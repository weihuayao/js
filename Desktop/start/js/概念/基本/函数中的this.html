<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<!--
 1 this 是啥  window
 所有函数内部都有一个this变量
 this的值是当前调用函数的当前对象
2 如何确定 this的值
 test() window
 p.test() p
 new test() 新创建对象
 p.call(obj) obj
-->
<script type="text/javascript">
    function Person(color) {
        console.log(this);
        this.color = color;
        this.getColor = function () {
            console.log(this);
            return this.color;
        };
        this.setColor = function (color) {
            console.log(this);
            this.color = color;
        };
    }
    Person("red");  //this是谁? window
    var p = new Person("yello"); //this是谁? p
    p.getColor(); //this是谁? p
    var obj = {};
    p.setColor.call(obj, "black"); //this是谁? obj
    var test = p.setColor;
    test(); //this是谁? window
    function fun1() {
        function fun2() {
            console.log(this);
        }

        fun2(); //this是谁?
    }
    fun1();
</script>
</body>
</html>
